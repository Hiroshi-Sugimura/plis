<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>public/js/subJma.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://hiroshi-sugimura.github.io/plis/" target="_blank" class="menu-item" id="forum_link" >Website</a></h2><h2><a href="https://github.com/Hiroshi-Sugimura/plis" target="_blank" class="menu-item" id="website_link" >Github</a></h2><h3>Namespaces</h3><ul><li><a href="subCalendar.html">subCalendar</a><ul class='methods'><li data-type='method' style='display: none;'><a href="subCalendar.html#.checkDate">checkDate</a></li><li data-type='method' style='display: none;'><a href="subCalendar.html#.createProcess">createProcess</a></li><li data-type='method' style='display: none;'><a href="subCalendar.html#.isHoliday">isHoliday</a></li><li data-type='method' style='display: none;'><a href="subCalendar.html#.isToday">isToday</a></li><li data-type='method' style='display: none;'><a href="subCalendar.html#.showProcess">showProcess</a></li></ul></li><li><a href="subClock.html">subClock</a></li><li><a href="subEL.html">subEL</a><ul class='methods'><li data-type='method' style='display: none;'><a href="subEL.html#.convRT">convRT</a></li><li data-type='method' style='display: none;'><a href="subEL.html#.renewCanvasSubESM">renewCanvasSubESM</a></li></ul></li><li><a href="subELcontrol.html">subELcontrol</a><ul class='methods'><li data-type='method' style='display: none;'><a href="subELcontrol.html#.colorButton">colorButton</a></li></ul></li><li><a href="subESM.html">subESM</a><ul class='methods'><li data-type='method' style='display: none;'><a href="subESM.html#.convRT">convRT</a></li><li data-type='method' style='display: none;'><a href="subESM.html#.renewCanvasESM">renewCanvasESM</a></li></ul></li><li><a href="subHAL.html">subHAL</a><ul class='methods'><li data-type='method' style='display: none;'><a href="subHAL.html#.btnQuestionnaireSubmit_click">btnQuestionnaireSubmit_click</a></li><li data-type='method' style='display: none;'><a href="subHAL.html#.ranking">ranking</a></li><li data-type='method' style='display: none;'><a href="subHAL.html#.renewMajorResults">renewMajorResults</a></li><li data-type='method' style='display: none;'><a href="subHAL.html#.renewMinorResults">renewMinorResults</a></li></ul></li><li><a href="subHue.html">subHue</a><ul class='methods'><li data-type='method' style='display: none;'><a href="subHue.html#.dlgHuePush_oncancel">dlgHuePush_oncancel</a></li></ul></li><li><a href="subIkea.html">subIkea</a></li><li><a href="subJma.html">subJma</a></li><li><a href="subNetatmo.html">subNetatmo</a><ul class='methods'><li data-type='method' style='display: none;'><a href="subNetatmo.html#.newLegendClickHandler">newLegendClickHandler</a></li><li data-type='method' style='display: none;'><a href="subNetatmo.html#.renewCanvasNetatmo">renewCanvasNetatmo</a></li></ul></li><li><a href="subOmron.html">subOmron</a><ul class='methods'><li data-type='method' style='display: none;'><a href="subOmron.html#.newLegendClickHandler">newLegendClickHandler</a></li><li data-type='method' style='display: none;'><a href="subOmron.html#.renewCanvasOmron">renewCanvasOmron</a></li></ul></li><li><a href="subOwm.html">subOwm</a></li><li><a href="subQuestionnaire.html">subQuestionnaire</a></li><li><a href="subSwitchBot.html">subSwitchBot</a><ul class='methods'><li data-type='method' style='display: none;'><a href="subSwitchBot.html#.newLegendClickHandler">newLegendClickHandler</a></li><li data-type='method' style='display: none;'><a href="subSwitchBot.html#.renewCanvasSwitchBot">renewCanvasSwitchBot</a></li></ul></li><li><a href="subSystem.html">subSystem</a></li><li><a href="subToast.html">subToast</a></li><li><a href="subUser.html">subUser</a></li><li><a href="window_.html">window</a><ul class='methods'><li data-type='method' style='display: none;'><a href="window_.html#.ELAAirconChangeMode">ELAAirconChangeMode</a></li><li data-type='method' style='display: none;'><a href="window_.html#.ELAirconShowControlDialog">ELAirconShowControlDialog</a></li><li data-type='method' style='display: none;'><a href="window_.html#.ELConfigSaved">ELConfigSaved</a></li><li data-type='method' style='display: none;'><a href="window_.html#.ELLightingScineButton">ELLightingScineButton</a></li><li data-type='method' style='display: none;'><a href="window_.html#.ELSendTest">ELSendTest</a></li><li data-type='method' style='display: none;'><a href="window_.html#.ELSettings">ELSettings</a></li><li data-type='method' style='display: none;'><a href="window_.html#.ELUpdateLocation">ELUpdateLocation</a></li><li data-type='method' style='display: none;'><a href="window_.html#.ELUpdateSettings">ELUpdateSettings</a></li><li data-type='method' style='display: none;'><a href="window_.html#.ELpowButton">ELpowButton</a></li><li data-type='method' style='display: none;'><a href="window_.html#.ELpowButton">ELpowButton</a></li><li data-type='method' style='display: none;'><a href="window_.html#.ESMConfigSaved">ESMConfigSaved</a></li><li data-type='method' style='display: none;'><a href="window_.html#.HALdeleteApiTokenResponse">HALdeleteApiTokenResponse</a></li><li data-type='method' style='display: none;'><a href="window_.html#.HALgetUserProfileResponse">HALgetUserProfileResponse</a></li><li data-type='method' style='display: none;'><a href="window_.html#.HALsetApiTokenResponse">HALsetApiTokenResponse</a></li><li data-type='method' style='display: none;'><a href="window_.html#.HALsyncResponse">HALsyncResponse</a></li><li data-type='method' style='display: none;'><a href="window_.html#.HueConfigSaved">HueConfigSaved</a></li><li data-type='method' style='display: none;'><a href="window_.html#.HuePowButton">HuePowButton</a></li><li data-type='method' style='display: none;'><a href="window_.html#.HueRename">HueRename</a></li><li data-type='method' style='display: none;'><a href="window_.html#.IkeaConfigSaved">IkeaConfigSaved</a></li><li data-type='method' style='display: none;'><a href="window_.html#.IkeaPowButton">IkeaPowButton</a></li><li data-type='method' style='display: none;'><a href="window_.html#.JmaConfigSaved">JmaConfigSaved</a></li><li data-type='method' style='display: none;'><a href="window_.html#.NetatmoConfigSaved">NetatmoConfigSaved</a></li><li data-type='method' style='display: none;'><a href="window_.html#.OmronConfigSaved">OmronConfigSaved</a></li><li data-type='method' style='display: none;'><a href="window_.html#.OwmConfigSaved">OwmConfigSaved</a></li><li data-type='method' style='display: none;'><a href="window_.html#.SwitchBotConfigSaved">SwitchBotConfigSaved</a></li><li data-type='method' style='display: none;'><a href="window_.html#.SwitchBotPlug">SwitchBotPlug</a></li><li data-type='method' style='display: none;'><a href="window_.html#.SystemConfigSaved">SystemConfigSaved</a></li><li data-type='method' style='display: none;'><a href="window_.html#.URLopen">URLopen</a></li><li data-type='method' style='display: none;'><a href="window_.html#.UserConfigSaved">UserConfigSaved</a></li><li data-type='method' style='display: none;'><a href="window_.html#.addToast">addToast</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnCalendarRenewSyukujitsu_Click">btnCalendarRenewSyukujitsu_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnDeleteHalApiToken_Click">btnDeleteHalApiToken_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnELConfigSet_Click">btnELConfigSet_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnESMConfigSet_Click">btnESMConfigSet_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnHALsync_Click">btnHALsync_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnHueConfigSet_Click">btnHueConfigSet_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnIkeaConfigSet_Click">btnIkeaConfigSet_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnJmaConfigSet_Click">btnJmaConfigSet_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnNetatmoConfigSet_Click">btnNetatmoConfigSet_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnNetworkConfigSet_Click">btnNetworkConfigSet_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnOmronConfigSet_Click">btnOmronConfigSet_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnOwmConfigSet_Click">btnOwmConfigSet_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnSetHalApiTokenBtn_Click">btnSetHalApiTokenBtn_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnSwitchBotConfigSet_Click">btnSwitchBotConfigSet_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnSystemConfigSet_Click">btnSystemConfigSet_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.btnUserProfileSet_Click">btnUserProfileSet_Click</a></li><li data-type='method' style='display: none;'><a href="window_.html#.calendarNext">calendarNext</a></li><li data-type='method' style='display: none;'><a href="window_.html#.calendarPrev">calendarPrev</a></li><li data-type='method' style='display: none;'><a href="window_.html#.createControlELButton">createControlELButton</a></li><li data-type='method' style='display: none;'><a href="window_.html#.disconnectedESM">disconnectedESM</a></li><li data-type='method' style='display: none;'><a href="window_.html#.disconnectedOmron">disconnectedOmron</a></li><li data-type='method' style='display: none;'><a href="window_.html#.esmDocSectionClicked">esmDocSectionClicked</a></li><li data-type='method' style='display: none;'><a href="window_.html#.getQuestionnaire">getQuestionnaire</a></li><li data-type='method' style='display: none;'><a href="window_.html#.hueLinked">hueLinked</a></li><li data-type='method' style='display: none;'><a href="window_.html#.ikeaLinked">ikeaLinked</a></li><li data-type='method' style='display: none;'><a href="window_.html#.inJmaArea_Change">inJmaArea_Change</a></li><li data-type='method' style='display: none;'><a href="window_.html#.makeJmaArea">makeJmaArea</a></li><li data-type='method' style='display: none;'><a href="window_.html#.netatmoDocSectionClicked">netatmoDocSectionClicked</a></li><li data-type='method' style='display: none;'><a href="window_.html#.omronDocSectionClicked">omronDocSectionClicked</a></li><li data-type='method' style='display: none;'><a href="window_.html#.onLoad">onLoad</a></li><li data-type='method' style='display: none;'><a href="window_.html#.openHueRenameDlg">openHueRenameDlg</a></li><li data-type='method' style='display: none;'><a href="window_.html#.pushHideButton">pushHideButton</a></li><li data-type='method' style='display: none;'><a href="window_.html#.redrawToast">redrawToast</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewELConfigView">renewELConfigView</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewESM">renewESM</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewESMConfigView">renewESMConfigView</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewEnergy">renewEnergy</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewEnergySubmeter">renewEnergySubmeter</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewFacilitiesEL">renewFacilitiesEL</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewFacilitiesHue">renewFacilitiesHue</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewFacilitiesIkea">renewFacilitiesIkea</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewFacilitiesSwitchBot">renewFacilitiesSwitchBot</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewHAL">renewHAL</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewHALConfigView">renewHALConfigView</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewHALProfile">renewHALProfile</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewHALToken">renewHALToken</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewHueConfigView">renewHueConfigView</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewHueLog">renewHueLog</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewIkeaConfigView">renewIkeaConfigView</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewIkeaLog">renewIkeaLog</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewJma">renewJma</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewJmaAbst">renewJmaAbst</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewJmaConfigView">renewJmaConfigView</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewJmaDetail">renewJmaDetail</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewNetatmo">renewNetatmo</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewNetatmoConfigView">renewNetatmoConfigView</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewOmron">renewOmron</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewOmronConfigView">renewOmronConfigView</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewOwm">renewOwm</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewOwmConfigView">renewOwmConfigView</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewRoomEnvNetatmo">renewRoomEnvNetatmo</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewRoomEnvOmron">renewRoomEnvOmron</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewRoomEnvSwitchBot">renewRoomEnvSwitchBot</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewSubESM">renewSubESM</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewSwitchBotConfigView">renewSwitchBotConfigView</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewSystemConfigView">renewSystemConfigView</a></li><li data-type='method' style='display: none;'><a href="window_.html#.renewUserConfigView">renewUserConfigView</a></li></ul></li><li><a href="window.ipc.html">ipc</a></li></ul><h3>Modules</h3><ul><li><a href="module-main.html">main</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-main.html#~createShortCut">createShortCut</a></li><li data-type='method' style='display: none;'><a href="module-main.html#~createWindow">createWindow</a></li><li data-type='method' style='display: none;'><a href="module-main.html#~menuInitialize">menuInitialize</a></li><li data-type='method' style='display: none;'><a href="module-main.html#~saveConfig">saveConfig</a></li><li data-type='method' style='display: none;'><a href="module-main.html#~savePersist">savePersist</a></li></ul></li><li><a href="module-mainArp.html">mainArp</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainArp.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainArp.html#~getPersist">getPersist</a></li><li data-type='method' style='display: none;'><a href="module-mainArp.html#~setConfig">setConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainArp.html#~start">start</a></li><li data-type='method' style='display: none;'><a href="module-mainArp.html#~stop">stop</a></li><li data-type='method' style='display: none;'><a href="module-mainArp.html#~stopObservation">stopObservation</a></li><li data-type='method' style='display: none;'><a href="module-mainArp.html#~stopWithoutSave">stopWithoutSave</a></li><li data-type='method' style='display: none;'><a href="module-mainArp.html#~toMAC">toMAC</a></li></ul></li><li><a href="module-mainCalendar.html">mainCalendar</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainCalendar.html#~getHolidays">getHolidays</a></li><li data-type='method' style='display: none;'><a href="module-mainCalendar.html#~start">start</a></li></ul></li><li><a href="module-mainEL.html">mainEL</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainEL.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~getPersist">getPersist</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~getStatic">getStatic</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~getTodayElectricEnergy_submeter">getTodayElectricEnergy_submeter</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~init">init</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~observation">observation</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~received">received</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~search">search</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~sendMsg">sendMsg</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~sendOPC1">sendOPC1</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~sendTodayEnergy">sendTodayEnergy</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~setConfig">setConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~setCron">setCron</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~sleep">sleep</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~start">start</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~stop">stop</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~stopObservation">stopObservation</a></li><li data-type='method' style='display: none;'><a href="module-mainEL.html#~stopWithoutSave">stopWithoutSave</a></li></ul></li><li><a href="module-mainESM.html">mainESM</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainESM.html#~getCases">getCases</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~getPersist">getPersist</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~getRows">getRows</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~getTodayElectricEnergy">getTodayElectricEnergy</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~observe">observe</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~received">received</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~renewPortList">renewPortList</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~sendTodayEnergy">sendTodayEnergy</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~setConfig">setConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~start">start</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~startCore">startCore</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~stop">stop</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~stopObservation">stopObservation</a></li><li data-type='method' style='display: none;'><a href="module-mainESM.html#~stopWithoutSave">stopWithoutSave</a></li></ul></li><li><a href="module-mainHALlocal.html">mainHALlocal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainHALlocal.html#~calcMajorResults">calcMajorResults</a></li><li data-type='method' style='display: none;'><a href="module-mainHALlocal.html#~getLastData">getLastData</a></li><li data-type='method' style='display: none;'><a href="module-mainHALlocal.html#~getToday">getToday</a></li><li data-type='method' style='display: none;'><a href="module-mainHALlocal.html#~initialize">initialize</a></li><li data-type='method' style='display: none;'><a href="module-mainHALlocal.html#~roundMajorFloat">roundMajorFloat</a></li><li data-type='method' style='display: none;'><a href="module-mainHALlocal.html#~submitQuestionnaire">submitQuestionnaire</a></li><li data-type='method' style='display: none;'><a href="module-mainHALlocal.html#~truncatelogs">truncatelogs</a></li></ul></li><li><a href="module-mainHALsync.html">mainHALsync</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainHALsync.html#~ConfigSave">ConfigSave</a></li><li data-type='method' style='display: none;'><a href="module-mainHALsync.html#~deleteHalApiToken">deleteHalApiToken</a></li><li data-type='method' style='display: none;'><a href="module-mainHALsync.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainHALsync.html#~getHalUserProfileRequest">getHalUserProfileRequest</a></li><li data-type='method' style='display: none;'><a href="module-mainHALsync.html#~httpGetRequest">httpGetRequest</a></li><li data-type='method' style='display: none;'><a href="module-mainHALsync.html#~httpPostRequest">httpPostRequest</a></li><li data-type='method' style='display: none;'><a href="module-mainHALsync.html#~renewConfigView">renewConfigView</a></li><li data-type='method' style='display: none;'><a href="module-mainHALsync.html#~setConfig">setConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainHALsync.html#~setHalApiTokenRequest">setHalApiTokenRequest</a></li><li data-type='method' style='display: none;'><a href="module-mainHALsync.html#~start">start</a></li><li data-type='method' style='display: none;'><a href="module-mainHALsync.html#~startSync">startSync</a></li><li data-type='method' style='display: none;'><a href="module-mainHALsync.html#~startUploadEldata">startUploadEldata</a></li></ul></li><li><a href="module-mainHue.html">mainHue</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainHue.html#~cancel">cancel</a></li><li data-type='method' style='display: none;'><a href="module-mainHue.html#~control">control</a></li><li data-type='method' style='display: none;'><a href="module-mainHue.html#~dummy">dummy</a></li><li data-type='method' style='display: none;'><a href="module-mainHue.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainHue.html#~getPersist">getPersist</a></li><li data-type='method' style='display: none;'><a href="module-mainHue.html#~received">received</a></li><li data-type='method' style='display: none;'><a href="module-mainHue.html#~setConfig">setConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainHue.html#~start">start</a></li><li data-type='method' style='display: none;'><a href="module-mainHue.html#~startCore">startCore</a></li><li data-type='method' style='display: none;'><a href="module-mainHue.html#~startObserve">startObserve</a></li><li data-type='method' style='display: none;'><a href="module-mainHue.html#~stop">stop</a></li><li data-type='method' style='display: none;'><a href="module-mainHue.html#~stopObserve">stopObserve</a></li><li data-type='method' style='display: none;'><a href="module-mainHue.html#~stopWithoutSave">stopWithoutSave</a></li></ul></li><li><a href="module-mainIkea.html">mainIkea</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainIkea.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainIkea.html#~getPersist">getPersist</a></li><li data-type='method' style='display: none;'><a href="module-mainIkea.html#~observe">observe</a></li><li data-type='method' style='display: none;'><a href="module-mainIkea.html#~received">received</a></li><li data-type='method' style='display: none;'><a href="module-mainIkea.html#~setConfig">setConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainIkea.html#~start">start</a></li><li data-type='method' style='display: none;'><a href="module-mainIkea.html#~startCore">startCore</a></li><li data-type='method' style='display: none;'><a href="module-mainIkea.html#~stop">stop</a></li><li data-type='method' style='display: none;'><a href="module-mainIkea.html#~stop">stop</a></li><li data-type='method' style='display: none;'><a href="module-mainIkea.html#~stopWithoutSave">stopWithoutSave</a></li></ul></li><li><a href="module-mainJma.html">mainJma</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainJma.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainJma.html#~getPersist">getPersist</a></li><li data-type='method' style='display: none;'><a href="module-mainJma.html#~gets">gets</a></li><li data-type='method' style='display: none;'><a href="module-mainJma.html#~parseAbst">parseAbst</a></li><li data-type='method' style='display: none;'><a href="module-mainJma.html#~parseAbstRaw">parseAbstRaw</a></li><li data-type='method' style='display: none;'><a href="module-mainJma.html#~parseDetail">parseDetail</a></li><li data-type='method' style='display: none;'><a href="module-mainJma.html#~parseDetailRaw">parseDetailRaw</a></li><li data-type='method' style='display: none;'><a href="module-mainJma.html#~setConfig">setConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainJma.html#~setObserve">setObserve</a></li><li data-type='method' style='display: none;'><a href="module-mainJma.html#~start">start</a></li><li data-type='method' style='display: none;'><a href="module-mainJma.html#~stop">stop</a></li><li data-type='method' style='display: none;'><a href="module-mainJma.html#~stopObservation">stopObservation</a></li><li data-type='method' style='display: none;'><a href="module-mainJma.html#~stopWithoutSave">stopWithoutSave</a></li></ul></li><li><a href="module-mainNetatmo.html">mainNetatmo</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainNetatmo.html#~getCases">getCases</a></li><li data-type='method' style='display: none;'><a href="module-mainNetatmo.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainNetatmo.html#~getPersist">getPersist</a></li><li data-type='method' style='display: none;'><a href="module-mainNetatmo.html#~getRows">getRows</a></li><li data-type='method' style='display: none;'><a href="module-mainNetatmo.html#~getTodayRoomEnv">getTodayRoomEnv</a></li><li data-type='method' style='display: none;'><a href="module-mainNetatmo.html#~sendTodayRoomEnv">sendTodayRoomEnv</a></li><li data-type='method' style='display: none;'><a href="module-mainNetatmo.html#~setConfig">setConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainNetatmo.html#~setObserve">setObserve</a></li><li data-type='method' style='display: none;'><a href="module-mainNetatmo.html#~start">start</a></li><li data-type='method' style='display: none;'><a href="module-mainNetatmo.html#~stop">stop</a></li><li data-type='method' style='display: none;'><a href="module-mainNetatmo.html#~stopObservation">stopObservation</a></li><li data-type='method' style='display: none;'><a href="module-mainNetatmo.html#~stopWithoutSave">stopWithoutSave</a></li></ul></li><li><a href="module-mainOmron.html">mainOmron</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainOmron.html#~getCases">getCases</a></li><li data-type='method' style='display: none;'><a href="module-mainOmron.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainOmron.html#~getPersist">getPersist</a></li><li data-type='method' style='display: none;'><a href="module-mainOmron.html#~getRows">getRows</a></li><li data-type='method' style='display: none;'><a href="module-mainOmron.html#~getTodayRoomEnv">getTodayRoomEnv</a></li><li data-type='method' style='display: none;'><a href="module-mainOmron.html#~sendTodayRoomEnv">sendTodayRoomEnv</a></li><li data-type='method' style='display: none;'><a href="module-mainOmron.html#~setConfig">setConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainOmron.html#~start">start</a></li><li data-type='method' style='display: none;'><a href="module-mainOmron.html#~stop">stop</a></li><li data-type='method' style='display: none;'><a href="module-mainOmron.html#~stopWithoutSave">stopWithoutSave</a></li></ul></li><li><a href="module-mainOwm.html">mainOwm</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainOwm.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainOwm.html#~getPersist">getPersist</a></li><li data-type='method' style='display: none;'><a href="module-mainOwm.html#~setConfig">setConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainOwm.html#~setObserve">setObserve</a></li><li data-type='method' style='display: none;'><a href="module-mainOwm.html#~start">start</a></li><li data-type='method' style='display: none;'><a href="module-mainOwm.html#~startCore">startCore</a></li><li data-type='method' style='display: none;'><a href="module-mainOwm.html#~stop">stop</a></li><li data-type='method' style='display: none;'><a href="module-mainOwm.html#~stopObservation">stopObservation</a></li><li data-type='method' style='display: none;'><a href="module-mainOwm.html#~stopWithoutSave">stopWithoutSave</a></li></ul></li><li><a href="module-mainSubmodule.html">mainSubmodule</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainSubmodule.html#~getNow">getNow</a></li><li data-type='method' style='display: none;'><a href="module-mainSubmodule.html#~getToday">getToday</a></li><li data-type='method' style='display: none;'><a href="module-mainSubmodule.html#~isObjEmpty">isObjEmpty</a></li><li data-type='method' style='display: none;'><a href="module-mainSubmodule.html#~mergeDeeply">mergeDeeply</a></li><li data-type='method' style='display: none;'><a href="module-mainSubmodule.html#~objectSort">objectSort</a></li></ul></li><li><a href="module-mainSwitchBot.html">mainSwitchBot</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~control">control</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~getCases">getCases</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~getHumidityRows">getHumidityRows</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~getMeterList">getMeterList</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~getPersist">getPersist</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~getTempratureRows">getTempratureRows</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~getTodayRoomEnvSwitchBot">getTodayRoomEnvSwitchBot</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~renewFacilities">renewFacilities</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~sendTodayRoomEnv">sendTodayRoomEnv</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~setConfig">setConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~start">start</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~stop">stop</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~stopObservation">stopObservation</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~stopWithoutSave">stopWithoutSave</a></li><li data-type='method' style='display: none;'><a href="module-mainSwitchBot.html#~storeData">storeData</a></li></ul></li><li><a href="module-mainSystem.html">mainSystem</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainSystem.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainSystem.html#~setConfig">setConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainSystem.html#~stop">stop</a></li></ul></li><li><a href="module-mainUser.html">mainUser</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mainUser.html#~getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainUser.html#~setConfig">setConfig</a></li><li data-type='method' style='display: none;'><a href="module-mainUser.html#~start">start</a></li><li data-type='method' style='display: none;'><a href="module-mainUser.html#~stop">stop</a></li></ul></li><li><a href="module-preload.html">preload</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-preload.html#~CalendarRenewHolidays">CalendarRenewHolidays</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~ELStop">ELStop</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~ELUse">ELUse</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~ELsearch">ELsearch</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~ESMUse">ESMUse</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~ESMnotUse">ESMnotUse</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~Elsend">Elsend</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~ElsendOPC1">ElsendOPC1</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~HALdeleteApiToken">HALdeleteApiToken</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~HALgetApiTokenRequest">HALgetApiTokenRequest</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~HALgetUserProfileRequest">HALgetUserProfileRequest</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~HALrenew">HALrenew</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~HALsetApiTokenRequest">HALsetApiTokenRequest</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~HALsubmitQuestionnaire">HALsubmitQuestionnaire</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~HALsync">HALsync</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~HueControl">HueControl</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~HueUse">HueUse</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~HueUseCancel">HueUseCancel</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~HueUseStop">HueUseStop</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~IkeaSend">IkeaSend</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~IkeaUse">IkeaUse</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~IkeaUseStop">IkeaUseStop</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~JmaConfigSave">JmaConfigSave</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~NetatmoStop">NetatmoStop</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~NetatmoUse">NetatmoUse</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~OmronStop">OmronStop</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~OmronUse">OmronUse</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~OwmStop">OwmStop</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~OwmUse">OwmUse</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~ScreenMode">ScreenMode</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~SwitchBotControl">SwitchBotControl</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~SwitchBotStop">SwitchBotStop</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~SwitchBotUse">SwitchBotUse</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~SystemSetConfig">SystemSetConfig</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~URLopen">URLopen</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~already">already</a></li><li data-type='method' style='display: none;'><a href="module-preload.html#~userProfileSave">userProfileSave</a></li></ul></li></ul><h3>Events</h3><ul><li><a href="multicastSearch.html#event:click">click</a></li><li><a href="window.ipc.html#.event:to-renderer">to-renderer</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">public/js/subJma.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>//////////////////////////////////////////////////////////////////////
//	Copyright (C) SUGIMURA Lab. 2022.08.30
//	気象庁（JMA, Japan Meteorological Agency）関係の処理
//////////////////////////////////////////////////////////////////////
'use strict'


////////////////////////////////////////////////////////////////////////////////
// HTMLロードしたら準備
/**
 * @namespace subJma
 */
window.addEventListener('DOMContentLoaded', function () {
	console.dir('## DOMContentLoaded subJma.js');

	let weatherAbst;       // 天気情報（JMA、概要）
	let abstTargetArea = '東京';
	let abstPublishingOffice = '気象庁';
	let abstReportDatetime = '';

	let weatherDetail;       // 天気情報（JMA、詳細）
	let detailPublishingOffice = '気象庁';
	let detailReportDatetime = '';

	let divJma        = document.getElementById('divJma'); // 気象庁の表示エリア
	let btnJmaConfigSet =  document.getElementById('btnJmaConfigSet');  // 設定ボタン
	let inJmaArea     = document.getElementById('inJmaArea');
	let divJmaCode    = document.getElementById('divJmaCode');

	let areaCodes = {
		"群馬県": "100000",
		"埼玉県": "110000",
		"千葉県": "120000",
		"東京都": "130000",
		"神奈川県": "140000",
		"新潟県": "150000",
		"富山県": "160000",
		"石川県": "170000",
		"福井県": "180000",
		"山梨県": "190000",
		"長野県": "200000",
		"岐阜県": "210000",
		"静岡県": "220000",
		"愛知県": "230000",
		"三重県": "240000",
		"滋賀県": "250000",
		"京都府": "260000",
		"大阪府": "270000",
		"兵庫県": "280000",
		"奈良県": "290000",
		"和歌山県": "300000",
		"鳥取県": "310000",
		"島根県": "320000",
		"岡山県": "330000",
		"広島県": "340000",
		"山口県": "350000",
		"徳島県": "360000",
		"香川県": "370000",
		"愛媛県": "380000",
		"高知県": "390000",
		"福岡県": "400000",
		"佐賀県": "410000",
		"長崎県": "420000",
		"熊本県": "430000",
		"大分県": "440000",
		"宮崎県": "450000",
		"奄美地方": "460040",
		"鹿児島県（奄美地方除く）": "460100",
		"沖縄本島地方": "471000",
		"大東島地方": "472000",
		"宮古島地方": "473000",
		"八重山地方": "474000",
		"青森県": "20000",
		"岩手県": "30000",
		"宮城県": "40000",
		"秋田県": "50000",
		"山形県": "60000",
		"福島県": "70000",
		"茨城県": "80000",
		"栃木県": "90000"
	};

	// JMAのweatherCodeとアイコンの対応表, 2022-09-12 取得
	// https://www.jma.go.jp/bosai/forecast/ にて Forecast.Const.TELOPS を実行すると取得できる。
	let TELOPS = {
		"100": [
			"100.svg",
			"500.svg",
			"100",
			"晴",
			"CLEAR"
			],
		"101": [
			"101.svg",
			"501.svg",
			"100",
			"晴時々曇",
			"PARTLY CLOUDY"
			],
		"102": [
			"102.svg",
			"502.svg",
			"300",
			"晴一時雨",
			"CLEAR, OCCASIONAL SCATTERED SHOWERS"
			],
		"103": [
			"102.svg",
			"502.svg",
			"300",
			"晴時々雨",
			"CLEAR, FREQUENT SCATTERED SHOWERS"
			],
		"104": [
			"104.svg",
			"504.svg",
			"400",
			"晴一時雪",
			"CLEAR, SNOW FLURRIES"
			],
		"105": [
			"104.svg",
			"504.svg",
			"400",
			"晴時々雪",
			"CLEAR, FREQUENT SNOW FLURRIES"
			],
		"106": [
			"102.svg",
			"502.svg",
			"300",
			"晴一時雨か雪",
			"CLEAR, OCCASIONAL SCATTERED SHOWERS OR SNOW FLURRIES"
			],
		"107": [
			"102.svg",
			"502.svg",
			"300",
			"晴時々雨か雪",
			"CLEAR, FREQUENT SCATTERED SHOWERS OR SNOW FLURRIES"
			],
		"108": [
			"102.svg",
			"502.svg",
			"300",
			"晴一時雨か雷雨",
			"CLEAR, OCCASIONAL SCATTERED SHOWERS AND/OR THUNDER"
			],
		"110": [
			"110.svg",
			"510.svg",
			"100",
			"晴後時々曇",
			"CLEAR, PARTLY CLOUDY LATER"
			],
		"111": [
			"110.svg",
			"510.svg",
			"100",
			"晴後曇",
			"CLEAR, CLOUDY LATER"
			],
		"112": [
			"112.svg",
			"512.svg",
			"300",
			"晴後一時雨",
			"CLEAR, OCCASIONAL SCATTERED SHOWERS LATER"
			],
		"113": [
			"112.svg",
			"512.svg",
			"300",
			"晴後時々雨",
			"CLEAR, FREQUENT SCATTERED SHOWERS LATER"
			],
		"114": [
			"112.svg",
			"512.svg",
			"300",
			"晴後雨",
			"CLEAR,RAIN LATER"
			],
		"115": [
			"115.svg",
			"515.svg",
			"400",
			"晴後一時雪",
			"CLEAR, OCCASIONAL SNOW FLURRIES LATER"
			],
		"116": [
			"115.svg",
			"515.svg",
			"400",
			"晴後時々雪",
			"CLEAR, FREQUENT SNOW FLURRIES LATER"
			],
		"117": [
			"115.svg",
			"515.svg",
			"400",
			"晴後雪",
			"CLEAR,SNOW LATER"
			],
		"118": [
			"112.svg",
			"512.svg",
			"300",
			"晴後雨か雪",
			"CLEAR, RAIN OR SNOW LATER"
			],
		"119": [
			"112.svg",
			"512.svg",
			"300",
			"晴後雨か雷雨",
			"CLEAR, RAIN AND/OR THUNDER LATER"
			],
		"120": [
			"102.svg",
			"502.svg",
			"300",
			"晴朝夕一時雨",
			"OCCASIONAL SCATTERED SHOWERS IN THE MORNING AND EVENING, CLEAR DURING THE DAY"
			],
		"121": [
			"102.svg",
			"502.svg",
			"300",
			"晴朝の内一時雨",
			"OCCASIONAL SCATTERED SHOWERS IN THE MORNING, CLEAR DURING THE DAY"
			],
		"122": [
			"112.svg",
			"512.svg",
			"300",
			"晴夕方一時雨",
			"CLEAR, OCCASIONAL SCATTERED SHOWERS IN THE EVENING"
			],
		"123": [
			"100.svg",
			"500.svg",
			"100",
			"晴山沿い雷雨",
			"CLEAR IN THE PLAINS, RAIN AND THUNDER NEAR MOUTAINOUS AREAS"
			],
		"124": [
			"100.svg",
			"500.svg",
			"100",
			"晴山沿い雪",
			"CLEAR IN THE PLAINS, SNOW NEAR MOUTAINOUS AREAS"
			],
		"125": [
			"112.svg",
			"512.svg",
			"300",
			"晴午後は雷雨",
			"CLEAR, RAIN AND THUNDER IN THE AFTERNOON"
			],
		"126": [
			"112.svg",
			"512.svg",
			"300",
			"晴昼頃から雨",
			"CLEAR, RAIN IN THE AFTERNOON"
			],
		"127": [
			"112.svg",
			"512.svg",
			"300",
			"晴夕方から雨",
			"CLEAR, RAIN IN THE EVENING"
			],
		"128": [
			"112.svg",
			"512.svg",
			"300",
			"晴夜は雨",
			"CLEAR, RAIN IN THE NIGHT"
			],
		"130": [
			"100.svg",
			"500.svg",
			"100",
			"朝の内霧後晴",
			"FOG IN THE MORNING, CLEAR LATER"
			],
		"131": [
			"100.svg",
			"500.svg",
			"100",
			"晴明け方霧",
			"FOG AROUND DAWN, CLEAR LATER"
			],
		"132": [
			"101.svg",
			"501.svg",
			"100",
			"晴朝夕曇",
			"CLOUDY IN THE MORNING AND EVENING, CLEAR DURING THE DAY"
			],
		"140": [
			"102.svg",
			"502.svg",
			"300",
			"晴時々雨で雷を伴う",
			"CLEAR, FREQUENT SCATTERED SHOWERS AND THUNDER"
			],
		"160": [
			"104.svg",
			"504.svg",
			"400",
			"晴一時雪か雨",
			"CLEAR, SNOW FLURRIES OR OCCASIONAL SCATTERED SHOWERS"
			],
		"170": [
			"104.svg",
			"504.svg",
			"400",
			"晴時々雪か雨",
			"CLEAR, FREQUENT SNOW FLURRIES OR SCATTERED SHOWERS"
			],
		"181": [
			"115.svg",
			"515.svg",
			"400",
			"晴後雪か雨",
			"CLEAR, SNOW OR RAIN LATER"
			],
		"200": [
			"200.svg",
			"200.svg",
			"200",
			"曇",
			"CLOUDY"
			],
		"201": [
			"201.svg",
			"601.svg",
			"200",
			"曇時々晴",
			"MOSTLY CLOUDY"
			],
		"202": [
			"202.svg",
			"202.svg",
			"300",
			"曇一時雨",
			"CLOUDY, OCCASIONAL SCATTERED SHOWERS"
			],
		"203": [
			"202.svg",
			"202.svg",
			"300",
			"曇時々雨",
			"CLOUDY, FREQUENT SCATTERED SHOWERS"
			],
		"204": [
			"204.svg",
			"204.svg",
			"400",
			"曇一時雪",
			"CLOUDY, OCCASIONAL SNOW FLURRIES"
			],
		"205": [
			"204.svg",
			"204.svg",
			"400",
			"曇時々雪",
			"CLOUDY FREQUENT SNOW FLURRIES"
			],
		"206": [
			"202.svg",
			"202.svg",
			"300",
			"曇一時雨か雪",
			"CLOUDY, OCCASIONAL SCATTERED SHOWERS OR SNOW FLURRIES"
			],
		"207": [
			"202.svg",
			"202.svg",
			"300",
			"曇時々雨か雪",
			"CLOUDY, FREQUENT SCCATERED SHOWERS OR SNOW FLURRIES"
			],
		"208": [
			"202.svg",
			"202.svg",
			"300",
			"曇一時雨か雷雨",
			"CLOUDY, OCCASIONAL SCATTERED SHOWERS AND/OR THUNDER"
			],
		"209": [
			"200.svg",
			"200.svg",
			"200",
			"霧",
			"FOG"
			],
		"210": [
			"210.svg",
			"610.svg",
			"200",
			"曇後時々晴",
			"CLOUDY, PARTLY CLOUDY LATER"
			],
		"211": [
			"210.svg",
			"610.svg",
			"200",
			"曇後晴",
			"CLOUDY, CLEAR LATER"
			],
		"212": [
			"212.svg",
			"212.svg",
			"300",
			"曇後一時雨",
			"CLOUDY, OCCASIONAL SCATTERED SHOWERS LATER"
			],
		"213": [
			"212.svg",
			"212.svg",
			"300",
			"曇後時々雨",
			"CLOUDY, FREQUENT SCATTERED SHOWERS LATER"
			],
		"214": [
			"212.svg",
			"212.svg",
			"300",
			"曇後雨",
			"CLOUDY, RAIN LATER"
			],
		"215": [
			"215.svg",
			"215.svg",
			"400",
			"曇後一時雪",
			"CLOUDY, SNOW FLURRIES LATER"
			],
		"216": [
			"215.svg",
			"215.svg",
			"400",
			"曇後時々雪",
			"CLOUDY, FREQUENT SNOW FLURRIES LATER"
			],
		"217": [
			"215.svg",
			"215.svg",
			"400",
			"曇後雪",
			"CLOUDY, SNOW LATER"
			],
		"218": [
			"212.svg",
			"212.svg",
			"300",
			"曇後雨か雪",
			"CLOUDY, RAIN OR SNOW LATER"
			],
		"219": [
			"212.svg",
			"212.svg",
			"300",
			"曇後雨か雷雨",
			"CLOUDY, RAIN AND/OR THUNDER LATER"
			],
		"220": [
			"202.svg",
			"202.svg",
			"300",
			"曇朝夕一時雨",
			"OCCASIONAL SCCATERED SHOWERS IN THE MORNING AND EVENING, CLOUDY DURING THE DAY"
			],
		"221": [
			"202.svg",
			"202.svg",
			"300",
			"曇朝の内一時雨",
			"CLOUDY OCCASIONAL SCCATERED SHOWERS IN THE MORNING"
			],
		"222": [
			"212.svg",
			"212.svg",
			"300",
			"曇夕方一時雨",
			"CLOUDY, OCCASIONAL SCCATERED SHOWERS IN THE EVENING"
			],
		"223": [
			"201.svg",
			"601.svg",
			"200",
			"曇日中時々晴",
			"CLOUDY IN THE MORNING AND EVENING, PARTLY CLOUDY DURING THE DAY,"
			],
		"224": [
			"212.svg",
			"212.svg",
			"300",
			"曇昼頃から雨",
			"CLOUDY, RAIN IN THE AFTERNOON"
			],
		"225": [
			"212.svg",
			"212.svg",
			"300",
			"曇夕方から雨",
			"CLOUDY, RAIN IN THE EVENING"
			],
		"226": [
			"212.svg",
			"212.svg",
			"300",
			"曇夜は雨",
			"CLOUDY, RAIN IN THE NIGHT"
			],
		"228": [
			"215.svg",
			"215.svg",
			"400",
			"曇昼頃から雪",
			"CLOUDY, SNOW IN THE AFTERNOON"
			],
		"229": [
			"215.svg",
			"215.svg",
			"400",
			"曇夕方から雪",
			"CLOUDY, SNOW IN THE EVENING"
			],
		"230": [
			"215.svg",
			"215.svg",
			"400",
			"曇夜は雪",
			"CLOUDY, SNOW IN THE NIGHT"
			],
		"231": [
			"200.svg",
			"200.svg",
			"200",
			"曇海上海岸は霧か霧雨",
			"CLOUDY, FOG OR DRIZZLING ON THE SEA AND NEAR SEASHORE"
			],
		"240": [
			"202.svg",
			"202.svg",
			"300",
			"曇時々雨で雷を伴う",
			"CLOUDY, FREQUENT SCCATERED SHOWERS AND THUNDER"
			],
		"250": [
			"204.svg",
			"204.svg",
			"400",
			"曇時々雪で雷を伴う",
			"CLOUDY, FREQUENT SNOW AND THUNDER"
			],
		"260": [
			"204.svg",
			"204.svg",
			"400",
			"曇一時雪か雨",
			"CLOUDY, SNOW FLURRIES OR OCCASIONAL SCATTERED SHOWERS"
			],
		"270": [
			"204.svg",
			"204.svg",
			"400",
			"曇時々雪か雨",
			"CLOUDY, FREQUENT SNOW FLURRIES OR SCATTERED SHOWERS"
			],
		"281": [
			"215.svg",
			"215.svg",
			"400",
			"曇後雪か雨",
			"CLOUDY, SNOW OR RAIN LATER"
			],
		"300": [
			"300.svg",
			"300.svg",
			"300",
			"雨",
			"RAIN"
			],
		"301": [
			"301.svg",
			"701.svg",
			"300",
			"雨時々晴",
			"RAIN, PARTLY CLOUDY"
			],
		"302": [
			"302.svg",
			"302.svg",
			"300",
			"雨時々止む",
			"SHOWERS THROUGHOUT THE DAY"
			],
		"303": [
			"303.svg",
			"303.svg",
			"400",
			"雨時々雪",
			"RAIN,FREQUENT SNOW FLURRIES"
			],
		"304": [
			"300.svg",
			"300.svg",
			"300",
			"雨か雪",
			"RAINORSNOW"
			],
		"306": [
			"300.svg",
			"300.svg",
			"300",
			"大雨",
			"HEAVYRAIN"
			],
		"308": [
			"308.svg",
			"308.svg",
			"300",
			"雨で暴風を伴う",
			"RAINSTORM"
			],
		"309": [
			"303.svg",
			"303.svg",
			"400",
			"雨一時雪",
			"RAIN,OCCASIONAL SNOW"
			],
		"311": [
			"311.svg",
			"711.svg",
			"300",
			"雨後晴",
			"RAIN,CLEAR LATER"
			],
		"313": [
			"313.svg",
			"313.svg",
			"300",
			"雨後曇",
			"RAIN,CLOUDY LATER"
			],
		"314": [
			"314.svg",
			"314.svg",
			"400",
			"雨後時々雪",
			"RAIN, FREQUENT SNOW FLURRIES LATER"
			],
		"315": [
			"314.svg",
			"314.svg",
			"400",
			"雨後雪",
			"RAIN,SNOW LATER"
			],
		"316": [
			"311.svg",
			"711.svg",
			"300",
			"雨か雪後晴",
			"RAIN OR SNOW, CLEAR LATER"
			],
		"317": [
			"313.svg",
			"313.svg",
			"300",
			"雨か雪後曇",
			"RAIN OR SNOW, CLOUDY LATER"
			],
		"320": [
			"311.svg",
			"711.svg",
			"300",
			"朝の内雨後晴",
			"RAIN IN THE MORNING, CLEAR LATER"
			],
		"321": [
			"313.svg",
			"313.svg",
			"300",
			"朝の内雨後曇",
			"RAIN IN THE MORNING, CLOUDY LATER"
			],
		"322": [
			"303.svg",
			"303.svg",
			"400",
			"雨朝晩一時雪",
			"OCCASIONAL SNOW IN THE MORNING AND EVENING, RAIN DURING THE DAY"
			],
		"323": [
			"311.svg",
			"711.svg",
			"300",
			"雨昼頃から晴",
			"RAIN, CLEAR IN THE AFTERNOON"
			],
		"324": [
			"311.svg",
			"711.svg",
			"300",
			"雨夕方から晴",
			"RAIN, CLEAR IN THE EVENING"
			],
		"325": [
			"311.svg",
			"711.svg",
			"300",
			"雨夜は晴",
			"RAIN, CLEAR IN THE NIGHT"
			],
		"326": [
			"314.svg",
			"314.svg",
			"400",
			"雨夕方から雪",
			"RAIN, SNOW IN THE EVENING"
			],
		"327": [
			"314.svg",
			"314.svg",
			"400",
			"雨夜は雪",
			"RAIN,SNOW IN THE NIGHT"
			],
		"328": [
			"300.svg",
			"300.svg",
			"300",
			"雨一時強く降る",
			"RAIN, EXPECT OCCASIONAL HEAVY RAINFALL"
			],
		"329": [
			"300.svg",
			"300.svg",
			"300",
			"雨一時みぞれ",
			"RAIN, OCCASIONAL SLEET"
			],
		"340": [
			"400.svg",
			"400.svg",
			"400",
			"雪か雨",
			"SNOWORRAIN"
			],
		"350": [
			"300.svg",
			"300.svg",
			"300",
			"雨で雷を伴う",
			"RAIN AND THUNDER"
			],
		"361": [
			"411.svg",
			"811.svg",
			"400",
			"雪か雨後晴",
			"SNOW OR RAIN, CLEAR LATER"
			],
		"371": [
			"413.svg",
			"413.svg",
			"400",
			"雪か雨後曇",
			"SNOW OR RAIN, CLOUDY LATER"
			],
		"400": [
			"400.svg",
			"400.svg",
			"400",
			"雪",
			"SNOW"
			],
		"401": [
			"401.svg",
			"801.svg",
			"400",
			"雪時々晴",
			"SNOW, FREQUENT CLEAR"
			],
		"402": [
			"402.svg",
			"402.svg",
			"400",
			"雪時々止む",
			"SNOWTHROUGHOUT THE DAY"
			],
		"403": [
			"403.svg",
			"403.svg",
			"400",
			"雪時々雨",
			"SNOW,FREQUENT SCCATERED SHOWERS"
			],
		"405": [
			"400.svg",
			"400.svg",
			"400",
			"大雪",
			"HEAVYSNOW"
			],
		"406": [
			"406.svg",
			"406.svg",
			"400",
			"風雪強い",
			"SNOWSTORM"
			],
		"407": [
			"406.svg",
			"406.svg",
			"400",
			"暴風雪",
			"HEAVYSNOWSTORM"
			],
		"409": [
			"403.svg",
			"403.svg",
			"400",
			"雪一時雨",
			"SNOW, OCCASIONAL SCCATERED SHOWERS"
			],
		"411": [
			"411.svg",
			"811.svg",
			"400",
			"雪後晴",
			"SNOW,CLEAR LATER"
			],
		"413": [
			"413.svg",
			"413.svg",
			"400",
			"雪後曇",
			"SNOW,CLOUDY LATER"
			],
		"414": [
			"414.svg",
			"414.svg",
			"400",
			"雪後雨",
			"SNOW,RAIN LATER"
			],
		"420": [
			"411.svg",
			"811.svg",
			"400",
			"朝の内雪後晴",
			"SNOW IN THE MORNING, CLEAR LATER"
			],
		"421": [
			"413.svg",
			"413.svg",
			"400",
			"朝の内雪後曇",
			"SNOW IN THE MORNING, CLOUDY LATER"
			],
		"422": [
			"414.svg",
			"414.svg",
			"400",
			"雪昼頃から雨",
			"SNOW, RAIN IN THE AFTERNOON"
			],
		"423": [
			"414.svg",
			"414.svg",
			"400",
			"雪夕方から雨",
			"SNOW, RAIN IN THE EVENING"
			],
		"425": [
			"400.svg",
			"400.svg",
			"400",
			"雪一時強く降る",
			"SNOW, EXPECT OCCASIONAL HEAVY SNOWFALL"
			],
		"426": [
			"400.svg",
			"400.svg",
			"400",
			"雪後みぞれ",
			"SNOW, SLEET LATER"
			],
		"427": [
			"400.svg",
			"400.svg",
			"400",
			"雪一時みぞれ",
			"SNOW, OCCASIONAL SLEET"
			],
		"450": [
			"400.svg",
			"400.svg",
			"400",
			"雪で雷を伴う",
			"SNOW AND THUNDER"
			]
	};


	//----------------------------------------------------------------------------------------------
	// 
	/** 
	 * @func window.renewJmaAbst
	 * @desc JMA 表示更新
	 * @param {void}
	 * @return {void}
	 */
	window.renewJmaAbst = function( arg ) {
		weatherAbst = '';
		abstTargetArea = arg.targetArea;
		abstPublishingOffice = arg.publishingOffice;
		abstReportDatetime = arg.reportDatetime;

		weatherAbst += '&lt;div class="p">&lt;section>' + arg.text.replace(/\n+/g, '&lt;br>') + '&lt;/section>&lt;/div>';
		window.renewJma();
	};

	/** 
	 * @func window.renewJmaDetail
	 * @desc JMA 詳細表示
	 * @param {void}
	 * @return {void}
	 */
	window.renewJmaDetail = function( arg ) {
		weatherDetail = '';

		let weather = arg.weather;
		let pops = arg.pops;
		let temps = arg.temperature;
		let timeArray = JSON.parse( weather[0].timeDefines );
		timeArray = timeArray.map( (t) => { return new Date(t).toLocaleString();} );
		let timeArrayLength = timeArray.length;

		//---------------------------------------------
		// weather
		// weatherDetail += '&lt;H3>天気予報 (' + new Date(weather[0].reportDatetime).toLocaleString() + '以降)&lt;/H3>';
		weatherDetail += '&lt;div class="p">';
		weatherDetail += '&lt;table>&lt;tbody>';
		// テーブルヘッダ
		weatherDetail += `&lt;tr>&lt;th class="forecast">Area&lt;/th>&lt;th class="forecast">予測&lt;/th>`; for( let i = 0; i &lt; timeArrayLength; i+= 1 ) { weatherDetail += `&lt;th class="forecast">${timeArray[i]}&lt;/th>`}; weatherDetail += `&lt;/tr>`;
		for( let a in weather ) {
			let wcs = JSON.parse(weather[a].weatherCodes);
			let wes = JSON.parse(weather[a].weathers);
			// 天気行
			weatherDetail += `&lt;tr>&lt;th rowspan="3" class="forecast">${weather[a].targetArea}&lt;/th>`;
			// weatherDetail += `&lt;tr>&lt;th rowspan="3">${weather[a].targetArea}&lt;br>${weather[a].code}&lt;/th>`;
			weatherDetail += `&lt;th class="forecast">天気 &lt;i class='fa-solid fa-cloud-sun'>&lt;/i>&lt;/th>`;
			for( let i = 0; i&lt;timeArrayLength; i+=1 ) {
				weatherDetail += `&lt;td class="forecast">&lt;img src="https://www.jma.go.jp/bosai/forecast/img/${TELOPS[wcs[i]][0]}">&lt;br>`; //code表示
				// weatherDetail += `&lt;td class="forecast">${wcs[i]}&lt;br>`; //codeからアイコン取得して表示
				weatherDetail += `${wes[i]}&lt;/td>`;
			}
			weatherDetail += `&lt;/tr>`;

			// 波
			let wvs = JSON.parse(weather[a].waves);
			weatherDetail += `&lt;tr>`;
			weatherDetail += `&lt;th class="forecast">波 &lt;i class="fa-solid fa-water">&lt;/i>&lt;/th>`;
			for( let i = 0; i&lt;timeArrayLength; i+=1 ) { weatherDetail += `&lt;td class="forecast">${wvs[i].replace(/　ただし/,"&lt;br>ただし").replace(/　うねり/,"&lt;br>うねり")}&lt;/td>`; }
			weatherDetail += `&lt;/tr>`;

			// 風
			let wns = JSON.parse(weather[a].winds);
			weatherDetail += `&lt;tr>`;
			weatherDetail += `&lt;th class="forecast">風 &lt;i class='fa-solid fa-wind'>&lt;/i>&lt;/th>`;
			for( let i = 0; i&lt;timeArrayLength; i+=1 ) { weatherDetail += `&lt;td class="forecast">${wns[i].replace(/　海上/,"&lt;br>海上")}&lt;/td>`; }
			weatherDetail += `&lt;/tr>`;
		}
		weatherDetail += '&lt;/tbody>&lt;/table>&lt;/div>';

		//---------------------------------------------
		// pops、降水量
		timeArray = JSON.parse( pops[0].timeDefines );
		timeArray = timeArray.map( (t) => { return new Date(t).toLocaleString();} );
		timeArrayLength = timeArray.length;

		weatherDetail += '&lt;H3>降水量予測 (' + new Date(pops[0].reportDatetime).toLocaleString()  + '以降)&lt;/H3>';
		weatherDetail += '&lt;div class="p">';
		weatherDetail += '&lt;table>&lt;tbody>';
		// テーブルヘッダ
		weatherDetail += `&lt;tr>&lt;th class="forecast">Area&lt;/th>`; for( let i = 0; i&lt;timeArrayLength; i+=1 ) { weatherDetail += `&lt;th class="forecast">${timeArray[i]}&lt;/th>`; } weatherDetail += `&lt;/tr>`;
		for( let a in pops ) {
			if( pops[a].pops ) {  // エリアは定義されているけど降水量データがない場合もある
				let pa = JSON.parse(pops[a].pops);
				weatherDetail += `&lt;tr>&lt;th class="forecast">${weather[a].targetArea}&lt;/th>`;
				// weatherDetail += `&lt;tr>&lt;th class="forecast">${weather[a].targetArea}&lt;br>${weather[a].code}&lt;/th>`;
				for( let i = 0; i&lt;timeArrayLength; i+=1 ) { weatherDetail += `&lt;td class="forecast center">${pa[0]}%&lt;/td>`; }
				weatherDetail += `&lt;/tr>`;
			}
		}
		weatherDetail += '&lt;/tbody>&lt;/table>';
		weatherDetail += '&lt;/div>';


		//---------------------------------------------
		// temps、気温
		timeArray = JSON.parse( temps[0].timeDefines );
		timeArray = timeArray.map( (t) => { return new Date(t).toLocaleString();} );
		timeArrayLength = timeArray.length;

		weatherDetail += '&lt;H3>気温予測 (' + new Date(temps[0].reportDatetime).toLocaleString()  + '以降)&lt;/H3>';
		weatherDetail += '&lt;div class="p">';
		weatherDetail += '&lt;table>&lt;tbody>';
		// テーブルヘッダ
		weatherDetail += `&lt;tr>&lt;th class="forecast">Area&lt;/th>`; for( let i = 0; i&lt;timeArrayLength; i+=1 ) { weatherDetail += `&lt;th class="forecast">${timeArray[i]}&lt;/th>`; } weatherDetail += `&lt;/tr>`;
		for( let a in temps ) {
			if( temps[a].temps ) {  // エリアは定義されているけど降水量データがない場合もある
				let te = JSON.parse(temps[a].temps);
				weatherDetail += `&lt;tr>&lt;th class="forecast">${weather[a].targetArea}&lt;/th>`;
				// weatherDetail += `&lt;tr>&lt;th class="forecast">${weather[a].targetArea}&lt;br>${weather[a].code}&lt;/th>`;
				for( let i = 0; i&lt;timeArrayLength; i+=1 ) { weatherDetail += `&lt;td class="forecast center">${te[0]}℃&lt;/td>`; }
				weatherDetail += `&lt;/tr>`;
			}
		}
		weatherDetail += '&lt;/tbody>&lt;/table>';
		weatherDetail += '&lt;div>';


		window.renewJma();
	};


	/** 
	 * @func 
	 * @desc 天気予報の更新、全体(上記renewJmaDetailのEntry)
	 * @param {void}
	 * @return {void}
	 */
	window.renewJma = function() {
		// return;  // @@@ まだ途中

		divJma.innerHTML = `&lt;h3>天気予報 (${ new Date(abstReportDatetime).toLocaleString() }取得) &lt;span class="f_right">&lt;i class="fa-solid fa-gear right" onClick="document.getElementById(\'configTab\').checked=true; location.hash=\'jmaConfig\'; document.getElementById(\'jmaConfigDetail\').open=true;">&lt;/i>&lt;/span>&lt;/h3>`;
		divJma.innerHTML += weatherDetail;
		divJma.innerHTML += `&lt;H3>総評 &lt;small>(${abstPublishingOffice})&lt;/small>&lt;/H3>`;
		divJma.innerHTML += weatherAbst;
		divJma.innerHTML += '&lt;small class="f_right">出典：気象庁　（https://www.jma.go.jp/jma/index.html）&lt;/small>';
	};

	//----------------------------------------------------------------------------------------------
	/** 
	 * @func 
	 * @desc jma config
	 * @param {void}
	 * @return {void}
	 */
	window.btnJmaConfigSet_Click = function() {
		btnJmaConfigSet.disabled = true;
		btnJmaConfigSet.textContent = '保存中…';

		// console.log('areaName:', inJmaArea.options[inJmaArea.selectedIndex].text, 'areaCode:', inJmaArea.value );
		window.ipc.JmaConfigSave( inJmaArea.options[inJmaArea.selectedIndex].text, inJmaArea.value );
	};

	/** 
	 * @func 
	 * @desc 設定完了
	 * @param {void}
	 * @return {void}
	 */
	window.JmaConfigSaved = function () {
		btnJmaConfigSet.disabled    = false;
		btnJmaConfigSet.textContent = '設定';

		window.addToast( 'Info', 'JMA 設定を保存しました。');
	};

	/** 
	 * @func 
	 * @desc mainプロセスから設定値をもらったので画面を更新
	 * @param {void}
	 * @return {void}
	 */
	window.renewJmaConfigView = function( arg ) {
		inJmaArea.value      = arg.code;
		divJmaCode.innerHTML = inJmaArea.value;
	};


	/** 
	 * @func 
	 * @desc セレクトボックスの変更
	 * @param {void}
	 * @return {void}
	 */
	window.inJmaArea_Change = function () {
		divJmaCode.innerHTML = inJmaArea.value;
	};

	/** 
	 * @func 
	 * @desc make jma selector
	 * @param {void}
	 * @return {void}
	 */
	window.makeJmaArea = function () {
		// console.log('window.makeJmaArea()');
		for( let i in areaCodes ) {
			inJmaArea.add( new Option( i, areaCodes[i]) );
		}
	};

	window.makeJmaArea();
} );
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Fri Jun 02 2023 21:55:25 GMT+0900 (日本標準時) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
